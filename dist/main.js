!function(){"use strict";var e,t,n;e=class{constructor(e){this.main=e,this.createHeader(),this.createSidebar(e),this.createFooter()}createHeader(){const e=document.createElement("header"),t=document.createElement("img");t.src="src/assets/images/EatEZLogo.jpg",e.appendChild(t),document.body.prepend(e)}createFooter(){const e=document.createElement("footer");e.innerHTML="<p>2023 All Rights Reserved</p>",document.body.appendChild(e)}createSidebar(e){const t=document.createElement("div");t.id="sidebar",e.appendChild(t);const n=document.createElement("h2");n.innerHTML="Welcome to EatEZ!",t.appendChild(n);const a=document.createElement("p");a.textContent="Here at EatEZ, we want to take the guess work out of preparing your own, healthy meals to satisfy your daily recommended macro-nutrient intake.",t.appendChild(a),a.style.marginBottom="10px";const o=document.createElement("p");o.textContent="With most of our recipes taking 20 minutes or less to prepare, which is faster than the wait time for take out, simply check our app for recipe inspiration and grab the items at your local store.",t.appendChild(o),o.style.marginBottom="10px";const r=document.createElement("p");r.textContent="To start, please use the below link to find your daily recommended macro-nutrient intake: ",t.appendChild(r),r.style.marginBottom="5px";const i=document.createElement("a");i.href="https://healthyeater.com/flexible-dieting-calculator",i.textContent="Calculate recommended calories and macros here",i.target="_blank",t.appendChild(i),i.style.marginBottom="10px";const d=document.createElement("p");d.textContent="Now that you have your total daily recommended calories and macronutrients, use the below filters to find a meal for you!",t.appendChild(d),d.style.marginBottom="10px";const l=document.createElement("form");l.id="filterForm",t.appendChild(l);const c=document.createElement("select");c.id="cuisineTypeSelector";const s=document.createElement("option");s.value="",s.text="Please select a Cuisine",s.disabled=!0,s.selected=!0,c.appendChild(s),["American","Asian","British","Caribbean","Central Europe","Chinese","Eastern Europe","French","Greek","Indian","Italian","Japanese","Korean","Kosher","Mediterranean","Mexican","Middle Eastern","Nordic","South American","South East Asian","World"].forEach((e=>{const t=e.toLowerCase(),n=document.createElement("option");n.value=t,n.text=e,c.appendChild(n)})),l.appendChild(c),c.style.marginBottom="10px";const m=document.createElement("select");m.id="caloriesSelector";const u=document.createElement("option");u.value="",u.text="Please Select Max Calories Required",u.disabled=!0,u.selected=!0,m.appendChild(u);for(let e=500;e<=3e3;e+=500){let t=document.createElement("option");t.value=`${e}`,t.text=`${e} calories or less`,m.appendChild(t)}l.appendChild(m),m.style.marginBottom="10px";const p=document.createElement("select");p.id="proteinSelector";const h=document.createElement("option");h.value="",h.text="Please Select Minimum Protein in Grams",h.disabled=!0,h.selected=!0,p.appendChild(h);for(let e=5;e<=105;e+=10){let t=document.createElement("option");t.value=`${e}`,t.text=`${e} grams or more`,p.appendChild(t)}l.appendChild(p),p.style.marginBottom="10px";const C=document.createElement("select");C.id="carbsSelector";const E=document.createElement("option");E.value="",E.text="Please Select Minimum Carbs in Grams",E.disabled=!0,E.selected=!0,C.appendChild(E);for(let e=5;e<=105;e+=10){let t=document.createElement("option");t.value=`${e}`,t.text=`${e} grams or more`,C.appendChild(t)}l.appendChild(C),C.style.marginBottom="10px";const g=document.createElement("select");g.id="fatSelector";const y=document.createElement("option");y.value="",y.text="Please Select Minimum Fat in Grams",y.disabled=!0,y.selected=!0,g.appendChild(y);for(let e=5;e<=105;e+=10){let t=document.createElement("option");t.value=`${e}`,t.text=`${e} grams or more`,g.appendChild(t)}l.appendChild(g),g.style.marginBottom="10px";const f=document.createElement("div");f.style.display="flex",l.appendChild(f);const v=document.createElement("input");v.type="submit",v.value="Search",v.style.marginRight="10px",f.appendChild(v),f.style.marginBottom="10px";const b=document.createElement("div");t.appendChild(b);const x=document.createElement("a");b.appendChild(x);const M=document.createElement("img");M.src="src/assets/images/github-logo.png",x.appendChild(M),x.href="https://github.com/o-hammad/EatEZ_Project.git",x.target="_blank",M.id="gitHubIcon";const S=document.createElement("a");b.appendChild(S);const I=document.createElement("img");I.src="src/assets/images/linkedinicon.png",S.appendChild(I),S.href="https://www.linkedin.com/in/omar-hammad-93810413b/",S.target="_blank",I.id="linkedInIcon"}},t=class{constructor(e,t,n){this.getData(e).then((e=>{const a=e.hits;localStorage.clear();let o=JSON.stringify(a);localStorage.setItem("storedResult",o),this.renderData(a,t,n)})).catch((e=>{console.log("Sorry, there was an error getting your data")}))}async getData(e){let t=`https://api.edamam.com/api/recipes/v2?app_id=25aad07a&app_key=095c96548ed9957ef5de2298cd228fc4&cuisineType=${e}&type=public`;const n=await fetch(t);if(!n.ok)throw new Error("Sorry, there was an error with the network");return await n.json()}renderData(e,t,n){const a=document.createElement("div");a.id="results",t.appendChild(a),""===n.calories&&(n.calories=500),""===n.protein&&(n.protein=5),""===n.carbs&&(n.carbs=5),""===n.fat&&(n.fat=5),e.forEach((e=>{const t=e.recipe,o=document.createElement("ul");o.id="item";const r=Math.floor(t.totalNutrients.PROCNT.quantity),i=t.totalNutrients.PROCNT.unit,d=Math.floor(t.totalNutrients.CHOCDF.quantity),l=t.totalNutrients.CHOCDF.unit,c=Math.floor(t.totalNutrients.FAT.quantity),s=t.totalNutrients.FAT.unit;if(t.calories<=n.calories&&r>=n.protein&&d>=n.carbs&&c>=n.fat){const e=document.createElement("li"),n=document.createElement("h3");n.innerHTML=`${t.label}`,n.style.cursor="pointer",n.className="resultLabel",n.id=`${t.label}`,e.appendChild(n),o.appendChild(e);const m=document.createElement("img");m.src=`${t.images.SMALL.url}`,o.appendChild(m);const u=document.createElement("li");u.innerHTML=`Calories: ${Math.floor(t.calories)}`,o.appendChild(u);const p=document.createElement("li");p.innerHTML="Macro Nutrient Count: ",p.id="macroLabel",o.appendChild(p);const h=document.createElement("li");h.innerHTML=`Protein: ${r} ${i}`,o.appendChild(h);const C=document.createElement("li");C.innerHTML=`Carbs: ${d} ${l}`,o.appendChild(C);const E=document.createElement("li");E.innerHTML=`Fat: ${c} ${s}`,o.appendChild(E),a.appendChild(o)}}))}},n=class{constructor(e){let t=localStorage.getItem("storedResult"),n=JSON.parse(t);this.renderData(n,e)}renderData(e,t){const n=document.createElement("div");n.id="recipe",main.appendChild(n),e.forEach((e=>{const a=e.recipe,o=Math.floor(a.totalNutrients.PROCNT.quantity),r=(a.totalNutrients.PROCNT.unit,Math.floor(a.totalNutrients.CHOCDF.quantity)),i=(a.totalNutrients.CHOCDF.unit,Math.floor(a.totalNutrients.FAT.quantity));if(a.totalNutrients.FAT.unit,a.label===t){const e=document.createElement("div");e.id="recipeImages",n.appendChild(e);const t=document.createElement("div");t.id="recipeImagesLeft",e.appendChild(t);const E=document.createElement("h2");E.innerHTML=`${a.label}`,t.appendChild(E);const g=document.createElement("img");g.src=`${a.images.REGULAR.url}`,g.id="recipeImage",t.appendChild(g);const y=document.createElement("div");y.id="recipeImagesRight",e.appendChild(y);const f=document.createElement("div");f.id="recipeNutrientDisplay",n.appendChild(f);const v=document.createElement("div");v.id="recipeIngredients",y.appendChild(v),v.style.backgroundImage='url("src/assets/images/clipboard-307332_1920.png")',v.style.backgroundSize="100% 100%";const b=document.createElement("div");b.id="recipeIngredientsText",v.appendChild(b);const x=document.createElement("h3");x.textContent="Ingredients:",b.appendChild(x);const M=document.createElement("ul");b.appendChild(M),a.ingredients.forEach((e=>{const t=document.createElement("li");t.innerHTML=e.text,M.appendChild(t)}));const S=document.createElement("div");S.id="nutritionFacts",f.appendChild(S);const I=document.createElement("h3");I.textContent="Nutrition Facts:",S.appendChild(I);for(const e in a.totalNutrients){const t=a.totalNutrients[e],n=document.createElement("div");n.id="nutrientLine",n.style.display="flex",n.style.justifyContent="space-between";const o=document.createElement("div");o.textContent=`${t.label}`,n.appendChild(o);const r=document.createElement("div");r.textContent=`${Math.floor(t.quantity)} ${t.unit}`,n.appendChild(r),S.appendChild(n)}const w=document.createElement("div");w.style.height="40px",S.appendChild(w);const N="pie-chart-container",R=document.createElement("div");R.id=N,y.appendChild(R);var d=[{nutrient:"Protein",value:o},{nutrient:"Fat",value:i},{nutrient:"Carbs",value:r}],l=Math.min(300,300)/2,c=d3.select(`#${N}`).append("svg").attr("width",300).attr("height",300).append("g").attr("transform","translate(150,150)"),s=d3.pie().value((function(e){return e.value})),m=d3.arc().innerRadius(60).outerRadius(l);const T=document.createElement("div");var u,p,h;T.style.display="none",T.style.position="absolute",T.id="toolTip",T.style.cursor="none",T.style.userSelect="none",main.appendChild(T);var C=c.selectAll("arc").data(s(d)).enter().append("g").on("mouseover",(function(e,t){d3.select("#toolTip").style("display","block").style("left",event.pageX+"px").style("top",event.pageY+"px").text(t.value+"g"),"Protein"===e.data.nutrient?u.transition().duration(200).attr("innerRadius",90).attr("outerRadius",l+30):"Fat"===e.data.nutrient?p.transition().duration(200).attr("innerRadius",90).attr("outerRadius",l+30):"Carbs"===e.data.nutrient&&h.transition().duration(200).attr("innerRadius",90).attr("outerRadius",l+30)})).on("mouseout",(function(e,t){d3.select("#toolTip").style("display","none"),"Protein"===e.data.nutrient?u.transition().duration(200).attr("innerRadius",60).attr("outerRadius",l):"Fat"===e.data.nutrient?p.transition().duration(200).attr("innerRadius",60).attr("outerRadius",l):"Carbs"===e.data.nutrient&&h.transition().duration(200).attr("innerRadius",60).attr("outerRadius",l)}));C.append("path").attr("d",m).attr("fill",(function(e){return"Protein"===e.data.nutrient?"#03fc6b":"Fat"===e.data.nutrient?"#fc3903":"#034afc"})).each((function(e){"Protein"===e.data.nutrient?u=d3.select(this):"Fat"===e.data.nutrient?p=d3.select(this):"Carbs"===e.data.nutrient&&(h=d3.select(this))})),C.append("text").attr("transform",(function(e){return"translate("+m.centroid(e)+")"})).attr("text-anchor","middle").text((function(e){return e.data.nutrient}))}}))}},document.addEventListener("DOMContentLoaded",(()=>{const a=document.getElementById("main");new e(a),document.getElementById("filterForm").addEventListener("submit",(function(e){e.preventDefault();const n=document.getElementById("cuisineTypeSelector"),o=document.getElementById("caloriesSelector"),r=document.getElementById("proteinSelector"),i=document.getElementById("carbsSelector"),d=document.getElementById("fatSelector"),l={};l.calories=o.value,l.protein=r.value,l.carbs=i.value,l.fat=d.value,document.getElementById("results")||document.getElementById("recipe")?(document.getElementById("results")?document.getElementById("results").remove():document.getElementById("recipe").remove(),new t(n.value,a,l)):new t(n.value,a,l)})),document.addEventListener("click",(function(e){const t=e.target;t.closest("#results")&&"resultLabel"===t.className&&(document.getElementById("results").remove(),new n(t.id))}))}))}();
//# sourceMappingURL=main.js.map